(()=>{"use strict";var e={249:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(354),a=t.n(r),i=t(314),o=t.n(i)()(a());o.push([e.id,"* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n}\n\n\nbody {\n    display: flex;\n    min-height: 100vh;\n    padding: 1rem;\n    font-size: 1rem;\n}\n\ndiv.container {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    background-color: rgb(220, 220, 220);\n    border-radius: 1rem;\n    margin: auto;\n    padding: 3rem;\n}\n\ndiv.container form {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(auto, 300px));\n    grid-template-rows: repeat(3, 1fr);\n    height: 300px;\n    gap: 0 1.5rem;\n}\n\ndiv.container form div {\n    display: flex;\n    flex-direction: column;\n}\n\ninput:valid {\n    border: 2px solid black;\n}\n\n/* Class submitted will be added when form is submitted\n   If there's any invalid inputs, apply :invalid to it */\nform.submitted input:invalid:required {\n    border: 2px solid red;\n}\n\n/* This is the style of error messages */\n.error {\n    width: 100%;\n    padding: 0;\n\n    font-size: 80%;\n    color: white;\n    background-color: red;\n    border-radius: 0 0 5px 5px;\n    box-sizing: border-box;\n}\n\n.error.active {\n    padding: 0.3em;\n}","",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;IACI,sBAAsB;IACtB,SAAS;IACT,UAAU;AACd;;;AAGA;IACI,aAAa;IACb,iBAAiB;IACjB,aAAa;IACb,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,sBAAsB;IACtB,oCAAoC;IACpC,mBAAmB;IACnB,YAAY;IACZ,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,qDAAqD;IACrD,kCAAkC;IAClC,aAAa;IACb,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,sBAAsB;AAC1B;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;wDACwD;AACxD;IACI,qBAAqB;AACzB;;AAEA,wCAAwC;AACxC;IACI,WAAW;IACX,UAAU;;IAEV,cAAc;IACd,YAAY;IACZ,qBAAqB;IACrB,0BAA0B;IAC1B,sBAAsB;AAC1B;;AAEA;IACI,cAAc;AAClB",sourcesContent:["* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n}\n\n\nbody {\n    display: flex;\n    min-height: 100vh;\n    padding: 1rem;\n    font-size: 1rem;\n}\n\ndiv.container {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    background-color: rgb(220, 220, 220);\n    border-radius: 1rem;\n    margin: auto;\n    padding: 3rem;\n}\n\ndiv.container form {\n    display: grid;\n    grid-template-columns: repeat(2, minmax(auto, 300px));\n    grid-template-rows: repeat(3, 1fr);\n    height: 300px;\n    gap: 0 1.5rem;\n}\n\ndiv.container form div {\n    display: flex;\n    flex-direction: column;\n}\n\ninput:valid {\n    border: 2px solid black;\n}\n\n/* Class submitted will be added when form is submitted\n   If there's any invalid inputs, apply :invalid to it */\nform.submitted input:invalid:required {\n    border: 2px solid red;\n}\n\n/* This is the style of error messages */\n.error {\n    width: 100%;\n    padding: 0;\n\n    font-size: 80%;\n    color: white;\n    background-color: red;\n    border-radius: 0 0 5px 5px;\n    box-sizing: border-box;\n}\n\n.error.active {\n    padding: 0.3em;\n}"],sourceRoot:""}]);const s=o},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),n.push(c))}},n}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(a," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var d=e[s],l=r.base?d[0]+r.base:d[0],c=i[l]||0,u="".concat(l," ").concat(c);i[l]=c+1;var m=t(u),A={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)n[m].references++,n[m].updater(A);else{var p=a(A,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:p,references:1})}o.push(u)}return o}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=t(i[o]);n[s].references--}for(var d=r(e,a),l=0;l<i.length;l++){var c=t(i[l]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}i=d}}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var i=n[r]={id:r,exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{var e=t(72),n=t.n(e),r=t(825),a=t.n(r),i=t(659),o=t.n(i),s=t(56),d=t.n(s),l=t(540),c=t.n(l),u=t(113),m=t.n(u),A=t(249),p={};p.styleTagTransform=m(),p.setAttributes=d(),p.insert=o().bind(null,"head"),p.domAPI=a(),p.insertStyleElement=c(),n()(A.A,p),A.A&&A.A.locals&&A.A.locals;const v=document.querySelector("form"),f=document.getElementById("mail"),y=document.querySelector("#mail + span.error"),g=document.getElementById("confirm-mail"),h=document.querySelector("#confirm-mail + span.error"),C=document.getElementById("country"),b=document.getElementById("zipcode"),x=document.querySelector("#zipcode + span.error"),I=document.getElementById("password"),B=document.querySelector("#password + span.error"),w=document.getElementById("password-confirmation"),E=document.querySelector("#password-confirmation + span.error"),S=()=>{f.validity.valueMissing?y.textContent="You need to enter an email address.":f.validity.typeMismatch?y.textContent="Entered value needs to be an email address.":f.validity.tooShort&&(y.textContent=`Email should be at least ${f.minLength} characters`),y.className="error active"},T=()=>{const e={ch:["^(CH-)?\\d{4}$","Switzerland ZIPs must have exactly 4 digits: e.g. CH-1950 or 1950"],fr:["^(F-)?\\d{5}$","France ZIPs must have exactly 5 digits: e.g. F-75012 or 75012"],de:["^(D-)?\\d{5}$","Germany ZIPs must have exactly 5 digits: e.g. D-12345 or 12345"],nl:["^(NL-)?\\d{4}\\s*([A-RT-Z][A-Z]|S[BCE-RT-Z])$","Netherland ZIPs must have exactly 4 digits, followed by 2 letters except SA, SD and SS"],br:["(\\d{5})-?(\\d{3})","Brazilian ZIPs must have exactly 8 digits: e.g. 12345-678 or 12345678"]};if(new RegExp(e[C.value][0],"").test(b.value))x.textContent="",x.className="error";else{const n=e[C.value][1];x.textContent=n,x.className="error active"}},N=()=>{I.validity.valueMissing?B.textContent="You need to enter a password.":I.validity.tooShort&&(B.textContent=`Password should be at least ${I.minLength} characters; you entered ${I.value.length}`),B.className="error active"};f.addEventListener("focusout",(()=>{f.validity.valid?(y.textContent="",y.className="error"):S()})),b.addEventListener("input",T),C.addEventListener("change",T),I.addEventListener("input",(()=>{I.validity.valid?(B.textContent="",B.className="error"):N()})),v.addEventListener("submit",(e=>{e.preventDefault(),I.value!==w.value?w.setCustomValidity("Passwords do not match"):w.setCustomValidity(""),v.checkValidity()?(alert("Great! Your data was submitted to the server!"),v.reset(),v.classList.remove("submitted"),document.querySelectorAll("span").forEach((e=>{e.textContent="",e.classList.remove("error")}))):(v.classList.add("submitted"),f.validity.valid||S(),g.validity.valueMissing||f.value!==g.value?(g.validity.valueMissing?h.textContent="This field can't be empty!":g.value!==f.value&&(h.textContent="The confirmed email does not match the original email. Please check and try to submit again."),h.className="error active"):(h.textContent="",h.className="error"),I.validity.valid||N(),w.validity.valueMissing||I.value!==w.value?(w.validity.valueMissing?E.textContent="This field can't be empty!":I.value!==w.value&&(E.textContent="The confirmed password does not match the original password. Please check and try to submit again."),E.className="error active"):(E.textContent="",E.className="error"),b.validity.valid||T())}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c0csVUFBVUcsSUFBSSxhQUVkM0MsRUFBTWEsU0FBU29CLE9BQ2xCckIsSUFHRVQsRUFBYVUsU0FBU0MsY0FBZ0JkLEVBQU00QixRQUFVekIsRUFBYXlCLE9BNUVuRXpCLEVBQWFVLFNBQVNDLGFBQ3hCVixFQUFrQlcsWUFBYyw2QkFDdkJaLEVBQWF5QixRQUFVNUIsRUFBTTRCLFFBQ3RDeEIsRUFBa0JXLFlBQ2hCLGdHQUdKWCxFQUFrQmUsVUFBWSxpQkEwRTVCZixFQUFrQlcsWUFBYyxHQUNoQ1gsRUFBa0JlLFVBQVksU0FHM0JYLEVBQUlLLFNBQVNvQixPQUNoQkYsSUFHRXJCLEVBQVdHLFNBQVNDLGNBQWdCTixFQUFJb0IsUUFBVWxCLEVBQVdrQixPQTlCN0RsQixFQUFXRyxTQUFTQyxhQUN0QkgsRUFBZ0JJLFlBQWMsNkJBQ3JCUCxFQUFJb0IsUUFBVWxCLEVBQVdrQixRQUNsQ2pCLEVBQWdCSSxZQUNkLHNHQUdKSixFQUFnQlEsVUFBWSxpQkE0QjFCUixFQUFnQkksWUFBYyxHQUM5QkosRUFBZ0JRLFVBQVksU0FHekJiLEVBQVFPLFNBQVNvQixPQUNwQmIsSUErREYsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9zcmMvc3R5bGVzL21haW4uY3NzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwby8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL3RlbXBsYXRlLXJlcG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwby93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vdGVtcGxhdGUtcmVwby8uL3NyYy9zdHlsZXMvbWFpbi5jc3M/ZTgwYSIsIndlYnBhY2s6Ly90ZW1wbGF0ZS1yZXBvLy4vc3JjL3ZhbGlkYXRpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGAqIHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIG1hcmdpbjogMDtcbiAgICBwYWRkaW5nOiAwO1xufVxuXG5cbmJvZHkge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgbWluLWhlaWdodDogMTAwdmg7XG4gICAgcGFkZGluZzogMXJlbTtcbiAgICBmb250LXNpemU6IDFyZW07XG59XG5cbmRpdi5jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyMjAsIDIyMCwgMjIwKTtcbiAgICBib3JkZXItcmFkaXVzOiAxcmVtO1xuICAgIG1hcmdpbjogYXV0bztcbiAgICBwYWRkaW5nOiAzcmVtO1xufVxuXG5kaXYuY29udGFpbmVyIGZvcm0ge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgbWlubWF4KGF1dG8sIDMwMHB4KSk7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMywgMWZyKTtcbiAgICBoZWlnaHQ6IDMwMHB4O1xuICAgIGdhcDogMCAxLjVyZW07XG59XG5cbmRpdi5jb250YWluZXIgZm9ybSBkaXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuaW5wdXQ6dmFsaWQge1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIGJsYWNrO1xufVxuXG4vKiBDbGFzcyBzdWJtaXR0ZWQgd2lsbCBiZSBhZGRlZCB3aGVuIGZvcm0gaXMgc3VibWl0dGVkXG4gICBJZiB0aGVyZSdzIGFueSBpbnZhbGlkIGlucHV0cywgYXBwbHkgOmludmFsaWQgdG8gaXQgKi9cbmZvcm0uc3VibWl0dGVkIGlucHV0OmludmFsaWQ6cmVxdWlyZWQge1xuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcbn1cblxuLyogVGhpcyBpcyB0aGUgc3R5bGUgb2YgZXJyb3IgbWVzc2FnZXMgKi9cbi5lcnJvciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgcGFkZGluZzogMDtcblxuICAgIGZvbnQtc2l6ZTogODAlO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDVweCA1cHg7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cblxuLmVycm9yLmFjdGl2ZSB7XG4gICAgcGFkZGluZzogMC4zZW07XG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL21haW4uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksc0JBQXNCO0lBQ3RCLFNBQVM7SUFDVCxVQUFVO0FBQ2Q7OztBQUdBO0lBQ0ksYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLG9DQUFvQztJQUNwQyxtQkFBbUI7SUFDbkIsWUFBWTtJQUNaLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IscURBQXFEO0lBQ3JELGtDQUFrQztJQUNsQyxhQUFhO0lBQ2IsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSx1QkFBdUI7QUFDM0I7O0FBRUE7d0RBQ3dEO0FBQ3hEO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBLHdDQUF3QztBQUN4QztJQUNJLFdBQVc7SUFDWCxVQUFVOztJQUVWLGNBQWM7SUFDZCxZQUFZO0lBQ1oscUJBQXFCO0lBQ3JCLDBCQUEwQjtJQUMxQixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIioge1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxufVxcblxcblxcbmJvZHkge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBtaW4taGVpZ2h0OiAxMDB2aDtcXG4gICAgcGFkZGluZzogMXJlbTtcXG4gICAgZm9udC1zaXplOiAxcmVtO1xcbn1cXG5cXG5kaXYuY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyMCwgMjIwLCAyMjApO1xcbiAgICBib3JkZXItcmFkaXVzOiAxcmVtO1xcbiAgICBtYXJnaW46IGF1dG87XFxuICAgIHBhZGRpbmc6IDNyZW07XFxufVxcblxcbmRpdi5jb250YWluZXIgZm9ybSB7XFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDIsIG1pbm1heChhdXRvLCAzMDBweCkpO1xcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgzLCAxZnIpO1xcbiAgICBoZWlnaHQ6IDMwMHB4O1xcbiAgICBnYXA6IDAgMS41cmVtO1xcbn1cXG5cXG5kaXYuY29udGFpbmVyIGZvcm0gZGl2IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XFxuXFxuaW5wdXQ6dmFsaWQge1xcbiAgICBib3JkZXI6IDJweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLyogQ2xhc3Mgc3VibWl0dGVkIHdpbGwgYmUgYWRkZWQgd2hlbiBmb3JtIGlzIHN1Ym1pdHRlZFxcbiAgIElmIHRoZXJlJ3MgYW55IGludmFsaWQgaW5wdXRzLCBhcHBseSA6aW52YWxpZCB0byBpdCAqL1xcbmZvcm0uc3VibWl0dGVkIGlucHV0OmludmFsaWQ6cmVxdWlyZWQge1xcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7XFxufVxcblxcbi8qIFRoaXMgaXMgdGhlIHN0eWxlIG9mIGVycm9yIG1lc3NhZ2VzICovXFxuLmVycm9yIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHBhZGRpbmc6IDA7XFxuXFxuICAgIGZvbnQtc2l6ZTogODAlO1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJlZDtcXG4gICAgYm9yZGVyLXJhZGl1czogMCAwIDVweCA1cHg7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbi5lcnJvci5hY3RpdmUge1xcbiAgICBwYWRkaW5nOiAwLjNlbTtcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgXCIuL3N0eWxlcy9tYWluLmNzc1wiO1xuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XG5cbi8vIEUtbWFpbCBhbmQgY29uZmlybSBlLW1haWwgaW5wdXRzXG5jb25zdCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFpbFwiKTtcbmNvbnN0IGVtYWlsRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haWwgKyBzcGFuLmVycm9yXCIpO1xuXG4vLyBTcGFuIGVsZW1lbnRzIHRvIHNob3cgZS1tYWlsIGVycm9yIG1lc3NhZ2VzXG5jb25zdCBjb25maXJtRW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbmZpcm0tbWFpbFwiKTtcbmNvbnN0IGNvbmZpcm1FbWFpbEVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb25maXJtLW1haWwgKyBzcGFuLmVycm9yXCIpO1xuXG4vLyBDb3VudHJ5IGFuZCB6aXAgY29kZSBpbnB1dHMsIGFuZCBzcGFuIGVsZW1lbnQgdG8gc2hvdyB6aXAgY29kZSBlcnJvciBtZXNzYWdlc1xuY29uc3QgY291bnRyeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyeVwiKTtcbmNvbnN0IHppcENvZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInppcGNvZGVcIik7XG5jb25zdCB6aXBDb2RlRXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ppcGNvZGUgKyBzcGFuLmVycm9yXCIpO1xuXG4vLyBQYXNzd29yZCBhbmQgY29uZmlybSBwYXNzd29yZCBpbnB1dHNcbmNvbnN0IHBzdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc3dvcmRcIik7XG5jb25zdCBwc3dFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFzc3dvcmQgKyBzcGFuLmVycm9yXCIpO1xuXG4vLyBTcGFuIGVsZW1lbnRzIHRvIHNob3cgcGFzc3dvcmQgZXJyb3IgbWVzc2FnZXNcbmNvbnN0IGNvbmZpcm1Qc3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBhc3N3b3JkLWNvbmZpcm1hdGlvblwiKTtcbmNvbnN0IGNvbmZpcm1Qc3dFcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGFzc3dvcmQtY29uZmlybWF0aW9uICsgc3Bhbi5lcnJvclwiKTtcblxuY29uc3Qgc2hvd0VtYWlsRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChlbWFpbC52YWxpZGl0eS52YWx1ZU1pc3NpbmcpIHtcbiAgICAvLyBJZiB0aGUgZmllbGQgaXMgZW1wdHksXG4gICAgLy8gZGlzcGxheSB0aGUgZm9sbG93aW5nIGVycm9yIG1lc3NhZ2UuXG4gICAgZW1haWxFcnJvci50ZXh0Q29udGVudCA9IFwiWW91IG5lZWQgdG8gZW50ZXIgYW4gZW1haWwgYWRkcmVzcy5cIjtcbiAgfSBlbHNlIGlmIChlbWFpbC52YWxpZGl0eS50eXBlTWlzbWF0Y2gpIHtcbiAgICAvLyBJZiB0aGUgZmllbGQgZG9lc24ndCBjb250YWluIGFuIGVtYWlsIGFkZHJlc3MsXG4gICAgLy8gZGlzcGxheSB0aGUgZm9sbG93aW5nIGVycm9yIG1lc3NhZ2UuXG4gICAgZW1haWxFcnJvci50ZXh0Q29udGVudCA9IFwiRW50ZXJlZCB2YWx1ZSBuZWVkcyB0byBiZSBhbiBlbWFpbCBhZGRyZXNzLlwiO1xuICB9IGVsc2UgaWYgKGVtYWlsLnZhbGlkaXR5LnRvb1Nob3J0KSB7XG4gICAgLy8gSWYgdGhlIGRhdGEgaXMgdG9vIHNob3J0LFxuICAgIC8vIGRpc3BsYXkgdGhlIGZvbGxvd2luZyBlcnJvciBtZXNzYWdlLlxuICAgIGVtYWlsRXJyb3IudGV4dENvbnRlbnQgPSBgRW1haWwgc2hvdWxkIGJlIGF0IGxlYXN0ICR7ZW1haWwubWluTGVuZ3RofSBjaGFyYWN0ZXJzYDtcbiAgfVxuXG4gIC8vIFNldCB0aGUgc3R5bGluZyBhcHByb3ByaWF0ZWx5XG4gIGVtYWlsRXJyb3IuY2xhc3NOYW1lID0gXCJlcnJvciBhY3RpdmVcIjtcbn07XG5cbmNvbnN0IHNob3dFbWFpbENvbmZpcm1hdGlvbkVycm9yID0gKCkgPT4ge1xuICBpZiAoY29uZmlybUVtYWlsLnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgIGNvbmZpcm1FbWFpbEVycm9yLnRleHRDb250ZW50ID0gXCJUaGlzIGZpZWxkIGNhbid0IGJlIGVtcHR5IVwiO1xuICB9IGVsc2UgaWYgKGNvbmZpcm1FbWFpbC52YWx1ZSAhPT0gZW1haWwudmFsdWUpIHtcbiAgICBjb25maXJtRW1haWxFcnJvci50ZXh0Q29udGVudCA9XG4gICAgICBcIlRoZSBjb25maXJtZWQgZW1haWwgZG9lcyBub3QgbWF0Y2ggdGhlIG9yaWdpbmFsIGVtYWlsLiBQbGVhc2UgY2hlY2sgYW5kIHRyeSB0byBzdWJtaXQgYWdhaW4uXCI7XG4gIH1cblxuICBjb25maXJtRW1haWxFcnJvci5jbGFzc05hbWUgPSBcImVycm9yIGFjdGl2ZVwiO1xufTtcblxuY29uc3QgY2hlY2taaXBDb2RlID0gKCkgPT4ge1xuICAvLyBGb3IgZWFjaCBjb3VudHJ5LCBkZWZpbmVzIHRoZSBwYXR0ZXJuIHRoYXQgdGhlIFpJUCBoYXMgdG8gZm9sbG93XG4gIGNvbnN0IGNvbnN0cmFpbnRzID0ge1xuICAgIGNoOiBbXCJeKENILSk/XFxcXGR7NH0kXCIsIFwiU3dpdHplcmxhbmQgWklQcyBtdXN0IGhhdmUgZXhhY3RseSA0IGRpZ2l0czogZS5nLiBDSC0xOTUwIG9yIDE5NTBcIl0sXG4gICAgZnI6IFtcIl4oRi0pP1xcXFxkezV9JFwiLCBcIkZyYW5jZSBaSVBzIG11c3QgaGF2ZSBleGFjdGx5IDUgZGlnaXRzOiBlLmcuIEYtNzUwMTIgb3IgNzUwMTJcIl0sXG4gICAgZGU6IFtcIl4oRC0pP1xcXFxkezV9JFwiLCBcIkdlcm1hbnkgWklQcyBtdXN0IGhhdmUgZXhhY3RseSA1IGRpZ2l0czogZS5nLiBELTEyMzQ1IG9yIDEyMzQ1XCJdLFxuICAgIG5sOiBbXG4gICAgICBcIl4oTkwtKT9cXFxcZHs0fVxcXFxzKihbQS1SVC1aXVtBLVpdfFNbQkNFLVJULVpdKSRcIixcbiAgICAgIFwiTmV0aGVybGFuZCBaSVBzIG11c3QgaGF2ZSBleGFjdGx5IDQgZGlnaXRzLCBmb2xsb3dlZCBieSAyIGxldHRlcnMgZXhjZXB0IFNBLCBTRCBhbmQgU1NcIixcbiAgICBdLFxuICAgIGJyOiBbXG4gICAgICBcIihcXFxcZHs1fSktPyhcXFxcZHszfSlcIixcbiAgICAgIFwiQnJhemlsaWFuIFpJUHMgbXVzdCBoYXZlIGV4YWN0bHkgOCBkaWdpdHM6IGUuZy4gMTIzNDUtNjc4IG9yIDEyMzQ1Njc4XCIsXG4gICAgXSxcbiAgfTtcblxuICAvLyBCdWlsZCB0aGUgY29uc3RyYWludCBjaGVja2VyXG4gIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgUmVnRXhwKGNvbnN0cmFpbnRzW2NvdW50cnkudmFsdWVdWzBdLCBcIlwiKTtcblxuICAvLyBJZiB0aGUgWklQIENvZGUgZm9sbG93cyB0aGUgY29uc3RyYWludFxuICBpZiAoY29uc3RyYWludC50ZXN0KHppcENvZGUudmFsdWUpKSB7XG4gICAgemlwQ29kZUVycm9yLnRleHRDb250ZW50ID0gXCJcIjsgLy8gUmVzZXQgdGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2VcbiAgICB6aXBDb2RlRXJyb3IuY2xhc3NOYW1lID0gXCJlcnJvclwiOyAvLyBSZXNldCB0aGUgdmlzdWFsIHN0YXRlIG9mIHRoZSBtZXNzYWdlXG4gIH0gZWxzZSB7XG4gICAgLy8gSWYgbm90LCBnaXZlIGEgbWVzc2FnZSBhYm91dCB0aGUgZm9ybWF0IHJlcXVpcmVkIGZvciB0aGlzIGNvdW50cnlcbiAgICBjb25zdCBjb25zdHJhaW50TXNnID0gY29uc3RyYWludHNbY291bnRyeS52YWx1ZV1bMV07XG4gICAgemlwQ29kZUVycm9yLnRleHRDb250ZW50ID0gY29uc3RyYWludE1zZztcblxuICAgIC8vIFNldCB0aGUgc3R5bGluZyBhcHByb3ByaWF0ZWx5XG4gICAgemlwQ29kZUVycm9yLmNsYXNzTmFtZSA9IFwiZXJyb3IgYWN0aXZlXCI7XG4gIH1cbn07XG5cbmNvbnN0IHNob3dQYXNzd29yZEVycm9yID0gKCkgPT4ge1xuICBpZiAocHN3LnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgIC8vIElmIHRoZSBmaWVsZCBpcyBlbXB0eSxcbiAgICAvLyBkaXNwbGF5IHRoZSBmb2xsb3dpbmcgZXJyb3IgbWVzc2FnZS5cbiAgICBwc3dFcnJvci50ZXh0Q29udGVudCA9IFwiWW91IG5lZWQgdG8gZW50ZXIgYSBwYXNzd29yZC5cIjtcbiAgfSBlbHNlIGlmIChwc3cudmFsaWRpdHkudG9vU2hvcnQpIHtcbiAgICAvLyBJZiB0aGUgZGF0YSBpcyB0b28gc2hvcnQsXG4gICAgLy8gZGlzcGxheSB0aGUgZm9sbG93aW5nIGVycm9yIG1lc3NhZ2UuXG4gICAgcHN3RXJyb3IudGV4dENvbnRlbnQgPSBgUGFzc3dvcmQgc2hvdWxkIGJlIGF0IGxlYXN0ICR7cHN3Lm1pbkxlbmd0aH0gY2hhcmFjdGVyczsgeW91IGVudGVyZWQgJHtwc3cudmFsdWUubGVuZ3RofWA7XG4gIH1cblxuICAvLyBTZXQgdGhlIHN0eWxpbmcgYXBwcm9wcmlhdGVseVxuICBwc3dFcnJvci5jbGFzc05hbWUgPSBcImVycm9yIGFjdGl2ZVwiO1xufTtcblxuY29uc3Qgc2hvd1Bhc3N3b3JkQ29uZmlybWF0aW9uRXJyb3IgPSAoKSA9PiB7XG4gIGlmIChjb25maXJtUHN3LnZhbGlkaXR5LnZhbHVlTWlzc2luZykge1xuICAgIGNvbmZpcm1Qc3dFcnJvci50ZXh0Q29udGVudCA9IFwiVGhpcyBmaWVsZCBjYW4ndCBiZSBlbXB0eSFcIjtcbiAgfSBlbHNlIGlmIChwc3cudmFsdWUgIT09IGNvbmZpcm1Qc3cudmFsdWUpIHtcbiAgICBjb25maXJtUHN3RXJyb3IudGV4dENvbnRlbnQgPVxuICAgICAgXCJUaGUgY29uZmlybWVkIHBhc3N3b3JkIGRvZXMgbm90IG1hdGNoIHRoZSBvcmlnaW5hbCBwYXNzd29yZC4gUGxlYXNlIGNoZWNrIGFuZCB0cnkgdG8gc3VibWl0IGFnYWluLlwiO1xuICB9XG5cbiAgY29uZmlybVBzd0Vycm9yLmNsYXNzTmFtZSA9IFwiZXJyb3IgYWN0aXZlXCI7XG59O1xuXG5jb25zdCB2YWxpZGF0ZUZvcm1GaWVsZHMgPSAoKSA9PiB7XG4gIGZvcm0uY2xhc3NMaXN0LmFkZChcInN1Ym1pdHRlZFwiKTtcblxuICBpZiAoIWVtYWlsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgc2hvd0VtYWlsRXJyb3IoKTtcbiAgfVxuXG4gIGlmIChjb25maXJtRW1haWwudmFsaWRpdHkudmFsdWVNaXNzaW5nIHx8IGVtYWlsLnZhbHVlICE9PSBjb25maXJtRW1haWwudmFsdWUpIHtcbiAgICBzaG93RW1haWxDb25maXJtYXRpb25FcnJvcigpO1xuICB9IGVsc2Uge1xuICAgIC8vIEluIGNhc2UgdGhlcmUgaXMgYW4gZXJyb3IgbWVzc2FnZSB2aXNpYmxlLCBpZiB0aGUgZmllbGRcbiAgICAvLyBpcyB2YWxpZCwgd2UgcmVtb3ZlIHRoZSBlcnJvciBtZXNzYWdlLlxuICAgIGNvbmZpcm1FbWFpbEVycm9yLnRleHRDb250ZW50ID0gXCJcIjsgLy8gUmVzZXQgdGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2VcbiAgICBjb25maXJtRW1haWxFcnJvci5jbGFzc05hbWUgPSBcImVycm9yXCI7IC8vIFJlc2V0IHRoZSB2aXN1YWwgc3RhdGUgb2YgdGhlIG1lc3NhZ2VcbiAgfVxuXG4gIGlmICghcHN3LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgc2hvd1Bhc3N3b3JkRXJyb3IoKTtcbiAgfVxuXG4gIGlmIChjb25maXJtUHN3LnZhbGlkaXR5LnZhbHVlTWlzc2luZyB8fCBwc3cudmFsdWUgIT09IGNvbmZpcm1Qc3cudmFsdWUpIHtcbiAgICBzaG93UGFzc3dvcmRDb25maXJtYXRpb25FcnJvcigpO1xuICB9IGVsc2Uge1xuICAgIC8vIEluIGNhc2UgdGhlcmUgaXMgYW4gZXJyb3IgbWVzc2FnZSB2aXNpYmxlLCBpZiB0aGUgZmllbGRcbiAgICAvLyBpcyB2YWxpZCwgd2UgcmVtb3ZlIHRoZSBlcnJvciBtZXNzYWdlLlxuICAgIGNvbmZpcm1Qc3dFcnJvci50ZXh0Q29udGVudCA9IFwiXCI7IC8vIFJlc2V0IHRoZSBjb250ZW50IG9mIHRoZSBtZXNzYWdlXG4gICAgY29uZmlybVBzd0Vycm9yLmNsYXNzTmFtZSA9IFwiZXJyb3JcIjsgLy8gUmVzZXQgdGhlIHZpc3VhbCBzdGF0ZSBvZiB0aGUgbWVzc2FnZVxuICB9XG5cbiAgaWYgKCF6aXBDb2RlLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgY2hlY2taaXBDb2RlKCk7XG4gIH1cbn07XG5cbmNvbnN0IHJlc2V0Rm9ybSA9ICgpID0+IHtcbiAgZm9ybS5yZXNldCgpOyAvLyBDbGVhciBhbGwgaW5wdXQgZmllbGRzXG4gIGZvcm0uY2xhc3NMaXN0LnJlbW92ZShcInN1Ym1pdHRlZFwiKTsgLy8gUmVtb3ZlIHN1Ym1pdCBjbGFzcyBmcm9tIHRoZSBmb3JtXG5cbiAgLy8gUmVtb3ZlIGVycm9yIG1lc3NhZ2VzIGZyb20gYWxsIGlucHV0c1xuICBjb25zdCBzcGFuRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwic3BhblwiKTtcbiAgc3BhbkVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICBlbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvclwiKTtcbiAgfSk7XG59O1xuXG5lbWFpbC5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgKCkgPT4ge1xuICAvLyBFYWNoIHRpbWUgdGhlIHVzZXIgdHlwZXMgc29tZXRoaW5nLCB3ZSBjaGVjayBpZiB0aGVcbiAgLy8gZW1haWwgZm9ybSBmaWVsZCBpcyB2YWxpZC5cblxuICBpZiAoZW1haWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAvLyBJbiBjYXNlIHRoZXJlIGlzIGFuIGVycm9yIG1lc3NhZ2UgdmlzaWJsZSwgaWYgdGhlIGZpZWxkXG4gICAgLy8gaXMgdmFsaWQsIHdlIHJlbW92ZSB0aGUgZXJyb3IgbWVzc2FnZS5cbiAgICBlbWFpbEVycm9yLnRleHRDb250ZW50ID0gXCJcIjsgLy8gUmVzZXQgdGhlIGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2VcbiAgICBlbWFpbEVycm9yLmNsYXNzTmFtZSA9IFwiZXJyb3JcIjsgLy8gUmVzZXQgdGhlIHZpc3VhbCBzdGF0ZSBvZiB0aGUgbWVzc2FnZVxuICB9IGVsc2Uge1xuICAgIHNob3dFbWFpbEVycm9yKCk7XG4gIH1cbn0pO1xuXG56aXBDb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBjaGVja1ppcENvZGUpO1xuY291bnRyeS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGNoZWNrWmlwQ29kZSk7XG5cbnBzdy5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICBpZiAocHN3LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgLy8gSW4gY2FzZSB0aGVyZSBpcyBhbiBlcnJvciBtZXNzYWdlIHZpc2libGUsIGlmIHRoZSBmaWVsZFxuICAgIC8vIGlzIHZhbGlkLCB3ZSByZW1vdmUgdGhlIGVycm9yIG1lc3NhZ2UuXG4gICAgcHN3RXJyb3IudGV4dENvbnRlbnQgPSBcIlwiOyAvLyBSZXNldCB0aGUgY29udGVudCBvZiB0aGUgbWVzc2FnZVxuICAgIHBzd0Vycm9yLmNsYXNzTmFtZSA9IFwiZXJyb3JcIjsgLy8gUmVzZXQgdGhlIHZpc3VhbCBzdGF0ZSBvZiB0aGUgbWVzc2FnZVxuICB9IGVsc2Uge1xuICAgIHNob3dQYXNzd29yZEVycm9yKCk7XG4gIH1cbn0pO1xuXG4vLyBUaGlzIGRlZmluZXMgd2hhdCBoYXBwZW5zIHdoZW4gdGhlIHVzZXIgdHJpZXMgdG8gc3VibWl0IHRoZSBkYXRhXG5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIFByZXZlbnRzIGZvcm0gYmVpbmcgc3VibWl0dGVkIHRvIGEgc2VydmVyXG5cbiAgLy8gU2V0IGEgY3VzdG9tIHZhbGlkaXR5IG1lc3NhZ2Ugb24gdGhlIGNvbmZpcm1Qc3cgZmllbGQgaWYgdGhlIHBhc3N3b3JkcyBkbyBub3QgbWF0Y2guXG4gIC8vIFRoaXMgd2lsbCBtYWtlIGZvcm0uY2hlY2tWYWxpZGl0eSgpIHRvIHJldHVybiBmYWxzZSBpZiB0aGUgcGFzc3dvcmRzIGRvIG5vdCBtYXRjaC5cbiAgaWYgKHBzdy52YWx1ZSAhPT0gY29uZmlybVBzdy52YWx1ZSkge1xuICAgIGNvbmZpcm1Qc3cuc2V0Q3VzdG9tVmFsaWRpdHkoXCJQYXNzd29yZHMgZG8gbm90IG1hdGNoXCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpcm1Qc3cuc2V0Q3VzdG9tVmFsaWRpdHkoXCJcIik7XG4gIH1cblxuICAvLyBJZiBmb3JtIGlzIG5vdCB2YWxpZCAocmV0dXJucyBmYWxzZSwgdmFsaWRhdGUgYWxsIGlucHV0IGZpZWxkcylcbiAgaWYgKCFmb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xuICAgIHZhbGlkYXRlRm9ybUZpZWxkcygpO1xuICB9IGVsc2Uge1xuICAgIC8vIFN1Ym1pdCBhbmQgcmVzZXQgZm9ybVxuICAgIGFsZXJ0KFwiR3JlYXQhIFlvdXIgZGF0YSB3YXMgc3VibWl0dGVkIHRvIHRoZSBzZXJ2ZXIhXCIpO1xuICAgIHJlc2V0Rm9ybSgpO1xuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJsb2NhbHMiLCJlbWFpbCIsImdldEVsZW1lbnRCeUlkIiwiZW1haWxFcnJvciIsImNvbmZpcm1FbWFpbCIsImNvbmZpcm1FbWFpbEVycm9yIiwiY291bnRyeSIsInppcENvZGUiLCJ6aXBDb2RlRXJyb3IiLCJwc3ciLCJwc3dFcnJvciIsImNvbmZpcm1Qc3ciLCJjb25maXJtUHN3RXJyb3IiLCJzaG93RW1haWxFcnJvciIsInZhbGlkaXR5IiwidmFsdWVNaXNzaW5nIiwidGV4dENvbnRlbnQiLCJ0eXBlTWlzbWF0Y2giLCJ0b29TaG9ydCIsIm1pbkxlbmd0aCIsImNsYXNzTmFtZSIsImNoZWNrWmlwQ29kZSIsImNvbnN0cmFpbnRzIiwiY2giLCJmciIsImRlIiwibmwiLCJiciIsIlJlZ0V4cCIsInZhbHVlIiwidGVzdCIsImNvbnN0cmFpbnRNc2ciLCJzaG93UGFzc3dvcmRFcnJvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWxpZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzZXRDdXN0b21WYWxpZGl0eSIsImNoZWNrVmFsaWRpdHkiLCJhbGVydCIsInJlc2V0IiwiY2xhc3NMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhZGQiXSwic291cmNlUm9vdCI6IiJ9